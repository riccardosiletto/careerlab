# CareerLab Dashboard â€“ Visual Guide

Quick reference per la nuova dashboard dinamica.

---

## ğŸ“Š Data Visualization Summary

### Demographics Section

| Metric | Chart Type | Rationale |
|--------|-----------|-----------|
| **Age Distribution** | Histogram + KPI | KPI per etÃ  media (grande), histogram per vedere distribuzione fasce |
| **Gender Balance** | Donut Chart | Composizione % immediate (M/F/Other) |
| **Gender Trend** | Line Chart | Evoluzione temporale 2022-2024 |

**Visual**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AGE DISTRIBUTION                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              â”‚       â–ˆâ–ˆâ–ˆ               â”‚
â”‚   27 anni    â”‚  â–ˆâ–ˆ   â–ˆâ–ˆâ–ˆ  â–ˆâ–ˆ   â–ˆ      â”‚
â”‚   (big KPI)  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚              â”‚ 18-24 25-29 30-34 35-39 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GENDER BALANCE + TREND                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   â—¯ Donut    â”‚  Line chart             â”‚
â”‚   60% M      â”‚  2022 â”€â”€â”€â†’ 2024         â”‚
â”‚   38% F      â”‚    â•±â”€â”€â”€â”€  Male          â”‚
â”‚   2% Other   â”‚  â”€â”€â•¯      Female        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Education Section

| Metric | Chart Type | Rationale |
|--------|-----------|-----------|
| **Top 5 Degrees** | Horizontal Bars | Ranking leggibile, nomi lunghi (es. "Ingegneria Gestionale") |
| **Top 5 Courses** | Horizontal Bars | Consistency con degrees |
| **School Type** | Donut Chart | Composizione 4-6 categorie (Pubblica/Privata/Online/Estero) |
| **MBA Type** | Vertical Bars | Cambio orientamento visivo, nomi brevi (Full-Time, Part-Time) |

**Visual**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TOP 5 DEGREES                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Ingegneria Gestionale  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 42%â”‚
â”‚  Economia               â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   28%â”‚
â”‚  Informatica            â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     19%â”‚
â”‚  Scienze della Comm.    â–ˆâ–ˆâ–ˆâ–ˆ         8% â”‚
â”‚  Psicologia             â–ˆâ–ˆ           3% â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MBA TYPE                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     â–ˆâ–ˆâ–ˆ                                 â”‚
â”‚     â–ˆâ–ˆâ–ˆ  â–ˆâ–ˆ                             â”‚
â”‚     â–ˆâ–ˆâ–ˆ  â–ˆâ–ˆ  â–ˆ   â–ˆ                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚   F-T  P-T Exe Onl                      â”‚
â”‚   58%  29%  9%  4%                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Career Section

| Metric | Chart Type | Rationale |
|--------|-----------|-----------|
| **Salary Range** | Range Bar + KPIs | 4 KPI (min/med/p75/max) + barra gradient per visualizzare range |
| **Promotion Timeline** | Histogram | Distribuzione temporale (<1y, 1-2y, 2-3y, 3y+) |
| **Promotion Location** | Donut Chart | % Same Company vs New Company |
| **Promotion Type** | Donut Chart | % Same Role vs Different Role |
| **Promotion Breakdown** | Sankey Diagram (premium)<br/>Heatmap Matrix (fallback) | Flussi di transizione completi (4 combinazioni) |

**Visual (Sankey - Premium)**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CAREER MOBILITY BREAKDOWN                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  Initial â”€â”€â”¬â”€60%â”€â”€> Same â”€â”€â”¬â”€40%â”€â”€> Same Role  â”‚
â”‚   Role     â”‚      Company  â”‚                    â”‚
â”‚            â”‚               â””â”€20%â”€â”€> Diff Role   â”‚
â”‚            â”‚                                     â”‚
â”‚            â””â”€40%â”€â”€> New â”€â”€â”€â”¬â”€25%â”€â”€> Same Role   â”‚
â”‚                   Company  â””â”€15%â”€â”€> Diff Role   â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Visual (Matrix - Fallback)**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CAREER MOBILITY MATRIX                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚             â”‚ Same Roleâ”‚ Different Role â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Same Companyâ”‚   40%    â”‚      20%       â”‚
â”‚             â”‚   126    â”‚      63        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ New Company â”‚   25%    â”‚      15%       â”‚
â”‚             â”‚   79     â”‚      47        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—‚ï¸ Data Structure Quick Reference

### File Organization
```
/public/reports/[folderName]/
  â”œâ”€ metadata.json          # Company/role info
  â”œâ”€ demographics.csv       # Age, gender data
  â”œâ”€ education.csv          # Degrees, courses, school types, MBA
  â””â”€ career.csv             # Salary, promotion data
```

### URL Pattern
```
/dashboard/junior-pm-intesa-sanpaolo-italy
/dashboard/software-engineer-google-usa
/dashboard/data-analyst-amazon-uk
```

---

## ğŸ¨ Color Palette

### Primary Colors
- **#6D7BFC** (career-blue-500) â†’ Primary charts, actions
- **#B6DC00** (career-green-500) â†’ Positive signals, highlights
- **#E5F984** (career-lime) â†’ ADV banners (Orienteering)

### Background Colors
- **#FFFFFF** â†’ Card backgrounds
- **#F3F4FF** (career-blue-100) â†’ Light card backgrounds, ADV (Job Consultancy)
- **#E8EAF8** (career-gray-100) â†’ Page background

### Text Colors
- **#212746** (career-dark) â†’ Primary text
- **#5A607F** (career-gray-700) â†’ Secondary text
- **#8D96AC** (career-gray-400) â†’ Tertiary text, axis labels

### Accent Colors
- **#9FA9FF** (career-blue-400) â†’ Light blue variant
- **#D0E957** (career-green-400) â†’ Light green variant
- **#FEC800** (career-yellow) â†’ Warnings, highlights
- **#9D52FF** (career-purple) â†’ Special metrics (es. etÃ  in purple)

---

## ğŸ“ Layout Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  HEADER (DashboardHeader)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              â”‚  NAVIGATION TABS                         â”‚
â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  SIDEBAR     â”‚  1. WELCOME SECTION                      â”‚
â”‚  (280px)     â”‚     [KPI cards inline]                   â”‚
â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  - Role      â”‚  2. DEMOGRAPHICS                         â”‚
â”‚  - Company   â”‚     [Age chart] [Gender charts]          â”‚
â”‚  - Country   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  - Desc.     â”‚  3. EDUCATION                            â”‚
â”‚              â”‚     [Degrees] [Courses] [School] [MBA]   â”‚
â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              â”‚  4. ADV BANNER â€“ ORIENTEERING            â”‚
â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              â”‚  5. CAREER                               â”‚
â”‚              â”‚     [Salary] [Timeline] [Location]       â”‚
â”‚              â”‚     [Type] [Breakdown Sankey/Matrix]     â”‚
â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              â”‚  6. ADV BANNER â€“ JOB CONSULTANCY         â”‚
â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              â”‚  7. PREMIUM UPGRADE                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ Component Checklist

### New Components to Create

**Charts** (`/components/dashboard/charts/`):
- [ ] `AgeDistributionChart.tsx` (Histogram + KPI)
- [ ] `GenderDonutChart.tsx` (Donut)
- [ ] `GenderTrendChart.tsx` (Line chart)
- [ ] `HorizontalBarChart.tsx` (Riusabile per degrees/courses)
- [ ] `VerticalBarChart.tsx` (MBA types)
- [ ] `DonutChart.tsx` (Riusabile per school types, promo location/type)
- [ ] `SalaryRangeChart.tsx` (Range bar + KPIs)
- [ ] `PromotionHistogram.tsx` (Timeline)
- [ ] `SankeyDiagram.tsx` (Premium breakdown)
- [ ] `PromotionMatrix.tsx` (Fallback heatmap)

**Sections** (`/components/dashboard/sections/`):
- [ ] `WelcomeSection.tsx`
- [ ] `DemographicsSection.tsx`
- [ ] `EducationSection.tsx`
- [ ] `CareerSection.tsx`
- [ ] `AdvertisingBanner.tsx`

**Page**:
- [ ] `app/dashboard/[folderName]/page.tsx` (Dynamic route)

**Utilities**:
- [ ] `lib/csvParser.ts` (CSV parsing logic)
- [ ] `hooks/useDashboardData.ts` (Data loading hook)

---

## ğŸ“¦ Dependencies to Install

```bash
npm install recharts papaparse
npm install -D @types/papaparse
```

**Optional (for Sankey)**:
```bash
npm install reactflow
```

---

## ğŸš€ Implementation Sprint Plan

### Sprint 1: Infrastructure (1-2 weeks)
- [ ] Setup dynamic route
- [ ] Implement CSV parsing
- [ ] Create TypeScript interfaces
- [ ] Loading/error states

### Sprint 2: Demographics (1 week)
- [ ] AgeDistributionChart
- [ ] GenderDonutChart
- [ ] GenderTrendChart
- [ ] DemographicsSection container

### Sprint 3: Education (1 week)
- [ ] HorizontalBarChart (riusabile)
- [ ] VerticalBarChart
- [ ] DonutChart (riusabile)
- [ ] EducationSection container

### Sprint 4: Career (1.5 weeks)
- [ ] SalaryRangeChart
- [ ] PromotionHistogram
- [ ] SankeyDiagram (premium)
- [ ] PromotionMatrix (fallback)
- [ ] CareerSection container

### Sprint 5: Polish (1 week)
- [ ] WelcomeSection
- [ ] AdvertisingBanner (2x)
- [ ] Animations (Framer Motion)
- [ ] Mobile responsive
- [ ] Testing

---

## ğŸ’¡ Key Design Decisions

### Why These Charts?

| Decision | Rationale |
|----------|-----------|
| **Histogram per Age** | Mostra distribuzione + outliers, piÃ¹ informativo di media alone |
| **Donut > Pie** | PiÃ¹ moderno, spazio centrale per total count |
| **Sankey per Breakdown** | WOW factor, trasforma 4 numeri in narrazione visuale |
| **Horizontal Bars per Top N** | LeggibilitÃ  nomi lunghi, pattern familiare |
| **Range Bar per Salary** | Visualizza spread + percentili, non solo media |

### Why CSV + JSON?

- **ScalabilitÃ **: Nuovo report = nuova cartella, zero code changes
- **SemplicitÃ **: Data team puÃ² generare CSV senza conoscere codebase
- **Performance**: Parsing lato client riduce API calls iniziali
- **VersionabilitÃ **: CSV in git = easy audit trail

### Why Recharts?

- React-native (no DOM manipulation diretta)
- Composable API (facile customizzazione)
- Supporta tutti chart types necessari
- Bundle size ragionevole (~100KB)
- Buona documentazione

---

## ğŸ¯ Success Metrics

### Performance
- LCP < 2.5s
- FID < 100ms
- CLS < 0.1

### Engagement
- Avg time on page > 2min
- Scroll depth > 70%
- Chart interaction rate > 30%

### Business
- ADV banner CTR > 5%
- Premium upgrade rate > 10%
- Data quality error rate < 1%

---

## ğŸ“ Notes for Data Team

### CSV Generation Guidelines

1. **Consistent Naming**: Usa esattamente i nomi di colonne specificati (metric, value, additional / category, name, count, percentage)

2. **Data Quality**:
   - No missing values (usa "0" o "N/A" se necessario)
   - Percentages devono sommare a 100 (o vicino, con rounding)
   - Counts devono essere interi positivi

3. **Top N Ordering**: Pre-ordina i dati (es. top 5 degrees giÃ  ordinati per count DESC)

4. **Date Format**: YYYY-MM-DD per `lastUpdate` in metadata.json

5. **Validation**: Prima di deploy, valida CSV con tool (es. csvlint)

### Example CSV Generation Script

```python
import pandas as pd

# Example: Generate demographics.csv from SkillSherpa data
df = skillsherpa_api.get_demographics(role="Junior PM", company="Intesa")

# Age distribution
age_dist = df.groupby('age_range')['count'].sum()
age_rows = [
    {'metric': 'averageAge', 'value': df['age'].mean(), 'additional': ''},
    *[{'metric': 'ageDistribution', 'value': range, 'additional': count}
      for range, count in age_dist.items()]
]

# Gender
gender_rows = [
    {'metric': 'gender', 'value': gender, 'additional': count}
    for gender, count in df['gender'].value_counts().items()
]

# Combine and export
demographics_df = pd.DataFrame(age_rows + gender_rows)
demographics_df.to_csv('demographics.csv', index=False)
```

---

**Quick Reference Complete** âœ…

Per la spec tecnica completa, vedi [DASHBOARD_SPEC.md](./DASHBOARD_SPEC.md)
